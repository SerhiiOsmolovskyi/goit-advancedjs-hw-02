{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet datetimePicker;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0];\n      const currentDate = new Date();\n\n      if (selectedDate <= currentDate) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Please choose a date in the future',\n        });\n        document.querySelector('button[data-start]').disabled = true;\n      } else {\n        document.querySelector('button[data-start]').disabled = false;\n      }\n    },\n  };\n\n  datetimePicker = flatpickr(\"#datetime-picker\", options);\n\n  document.querySelector(\"#datetime-picker\").addEventListener('click', () => {\n    datetimePicker.open();\n  });\n\n  document.querySelector('button[data-start]').addEventListener('click', () => {\n    const selectedDate = datetimePicker.selectedDates[0];\n    const currentDate = new Date();\n\n    if (selectedDate <= currentDate) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n    } else {\n      startTimer(selectedDate);\n    }\n  });\n\n  const timerContainer = document.querySelector('.timer');\n  const fields = document.querySelectorAll('.field');\n\n  timerContainer.style.display = 'flex';\n  timerContainer.style.justifyContent = 'space-between';\n  timerContainer.style.width = '30%';\n\n  fields.forEach(field => {\n    field.style.textAlign = 'center';\n    field.style.flex = '1';\n    field.style.display = 'flex';\n    field.style.flexDirection = 'column';\n    field.style.justifyContent = 'flex-start';\n    field.style.gap = '5px';\n  });\n\n  const values = document.querySelectorAll('.value');\n  const labels = document.querySelectorAll('.label');\n\n  values.forEach(value => {\n    value.style.fontSize = '2em';\n    value.style.fontWeight = 'bold';\n  });\n\n  labels.forEach(label => {\n    label.style.fontSize = '0.8em';\n    label.style.color = '#555';\n  });\n\nfunction startTimer(endDate) {\n  document.querySelector(\"#datetime-picker\").disabled = true;\n  \n  document.querySelector('button[data-start]').disabled = true;\n\n  const interval = setInterval(() => {\n    const timeDifference = endDate - new Date();\n\n    if (timeDifference < 0) {\n      clearInterval(interval);\n      iziToast.success({\n        title: 'Success',\n        message: 'Countdown timer reached zero!',\n      });\n      document.querySelector(\"#datetime-picker\").disabled = false;\n      document.querySelector('button[data-start]').disabled = false;\n    } else {\n      const time = convertMs(timeDifference);\n\n      document.querySelector('[data-days]').textContent = addLeadingZero(time.days);\n      document.querySelector('[data-hours]').textContent = addLeadingZero(time.hours);\n      document.querySelector('[data-minutes]').textContent = addLeadingZero(time.minutes);\n      document.querySelector('[data-seconds]').textContent = addLeadingZero(time.seconds);\n    }\n  }, 1000);\n}\n\n  function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n  }\n\n  function addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n  }\n});"],"names":["datetimePicker","options","selectedDates","selectedDate","currentDate","iziToast","flatpickr","startTimer","timerContainer","fields","field","values","labels","value","label","endDate","interval","timeDifference","time","convertMs","addLeadingZero","ms","days","hours","minutes","seconds"],"mappings":"+IAKA,IAAIA,EAEJ,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,GAC7BE,EAAc,IAAI,KAEpBD,GAAgBC,GAClBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACnB,CAAS,EACD,SAAS,cAAc,oBAAoB,EAAE,SAAW,IAExD,SAAS,cAAc,oBAAoB,EAAE,SAAW,EAE3D,CACL,EAEEL,EAAiBM,EAAU,mBAAoBL,CAAO,EAEtD,SAAS,cAAc,kBAAkB,EAAE,iBAAiB,QAAS,IAAM,CACzED,EAAe,KAAI,CACvB,CAAG,EAED,SAAS,cAAc,oBAAoB,EAAE,iBAAiB,QAAS,IAAM,CAC3E,MAAMG,EAAeH,EAAe,cAAc,GAC5CI,EAAc,IAAI,KAEpBD,GAAgBC,EAClBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EAEDE,EAAWJ,CAAY,CAE7B,CAAG,EAED,MAAMK,EAAiB,SAAS,cAAc,QAAQ,EAChDC,EAAS,SAAS,iBAAiB,QAAQ,EAEjDD,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,eAAiB,gBACtCA,EAAe,MAAM,MAAQ,MAE7BC,EAAO,QAAQC,GAAS,CACtBA,EAAM,MAAM,UAAY,SACxBA,EAAM,MAAM,KAAO,IACnBA,EAAM,MAAM,QAAU,OACtBA,EAAM,MAAM,cAAgB,SAC5BA,EAAM,MAAM,eAAiB,aAC7BA,EAAM,MAAM,IAAM,KACtB,CAAG,EAED,MAAMC,EAAS,SAAS,iBAAiB,QAAQ,EAC3CC,EAAS,SAAS,iBAAiB,QAAQ,EAEjDD,EAAO,QAAQE,GAAS,CACtBA,EAAM,MAAM,SAAW,MACvBA,EAAM,MAAM,WAAa,MAC7B,CAAG,EAEDD,EAAO,QAAQE,GAAS,CACtBA,EAAM,MAAM,SAAW,QACvBA,EAAM,MAAM,MAAQ,MACxB,CAAG,EAEH,SAASP,EAAWQ,EAAS,CAC3B,SAAS,cAAc,kBAAkB,EAAE,SAAW,GAEtD,SAAS,cAAc,oBAAoB,EAAE,SAAW,GAExD,MAAMC,EAAW,YAAY,IAAM,CACjC,MAAMC,EAAiBF,EAAU,IAAI,KAErC,GAAIE,EAAiB,EACnB,cAAcD,CAAQ,EACtBX,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACjB,CAAO,EACD,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtD,SAAS,cAAc,oBAAoB,EAAE,SAAW,OACnD,CACL,MAAMa,EAAOC,EAAUF,CAAc,EAErC,SAAS,cAAc,aAAa,EAAE,YAAcG,EAAeF,EAAK,IAAI,EAC5E,SAAS,cAAc,cAAc,EAAE,YAAcE,EAAeF,EAAK,KAAK,EAC9E,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAeF,EAAK,OAAO,EAClF,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAeF,EAAK,OAAO,CACnF,CACF,EAAE,GAAI,CACT,CAEE,SAASC,EAAUE,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,SAASL,EAAeP,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACxC,CACH,CAAC"}